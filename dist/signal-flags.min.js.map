{"version":3,"file":"signal-flags.min.js","sources":["../src/designs/default.flags.js","../src/shapes/default.shapes.js","../src/flags.js","../src/index.js"],"sourcesContent":["// default,flags,yaml\nexport default {\n  \"groups\": {\n    \"numerals\": [\n      \"n1\",\n      \"n2\",\n      \"n3\",\n      \"n4\",\n      \"n5\",\n      \"n6\",\n      \"n7\",\n      \"n8\",\n      \"n9\",\n      \"n0\"\n    ],\n    \"alphabet\": [\n      \"a\",\n      \"b\",\n      \"c\",\n      \"d\",\n      \"e\",\n      \"f\",\n      \"g\",\n      \"h\",\n      \"i\",\n      \"j\",\n      \"k\",\n      \"l\",\n      \"m\",\n      \"n\",\n      \"o\",\n      \"p\",\n      \"q\",\n      \"r\",\n      \"s\",\n      \"t\",\n      \"u\",\n      \"v\",\n      \"w\",\n      \"x\",\n      \"y\",\n      \"z\"\n    ],\n    \"substitutes\": [\n      \"s1\",\n      \"s2\",\n      \"s3\",\n      \"s4\"\n    ],\n    \"racing\": [\n      \"red\",\n      \"yellow\",\n      \"blue\",\n      \"green\",\n      \"black\",\n      \"greenwhite\",\n      \"blackwhite\"\n    ]\n  },\n  \"flags\": {\n    \"a\": {\n      \"name\": \"A\",\n      \"phonetic\": \"Alfa\",\n      \"shape\": \"swallowtail\",\n      \"design\": [\n        [\n          \"vertical\",\n          [\n            \"white\",\n            \"blue\"\n          ]\n        ],\n        [\n          \"outline\"\n        ]\n      ]\n    },\n    \"b\": {\n      \"name\": \"B\",\n      \"phonetic\": \"Bravo\",\n      \"shape\": \"swallowtail\",\n      \"design\": [\n        [\n          \"solid\",\n          \"red\"\n        ]\n      ]\n    },\n    \"c\": {\n      \"name\": \"C\",\n      \"phonetic\": \"Charlie\",\n      \"design\": [\n        [\n          \"horizontal\",\n          [\n            \"blue\",\n            \"white\",\n            \"red\",\n            \"white\",\n            \"blue\"\n          ]\n        ],\n        [\n          \"outline\"\n        ]\n      ]\n    },\n    \"d\": {\n      \"name\": \"D\",\n      \"phonetic\": \"Delta\",\n      \"design\": [\n        [\n          \"horizontal\",\n          [\n            \"yellow\",\n            \"blue\",\n            \"yellow\"\n          ],\n          [\n            1,\n            3,\n            1\n          ]\n        ]\n      ]\n    },\n    \"e\": {\n      \"name\": \"E\",\n      \"phonetic\": \"Echo\",\n      \"design\": [\n        [\n          \"horizontal\",\n          [\n            \"blue\",\n            \"red\"\n          ]\n        ]\n      ]\n    },\n    \"g\": {\n      \"name\": \"G\",\n      \"phonetic\": \"Golf\",\n      \"design\": [\n        [\n          \"vertical\",\n          [\n            \"yellow\",\n            \"blue\",\n            \"yellow\",\n            \"blue\",\n            \"yellow\",\n            \"blue\"\n          ]\n        ]\n      ]\n    },\n    \"h\": {\n      \"name\": \"H\",\n      \"phonetic\": \"Hotel\",\n      \"design\": [\n        [\n          \"vertical\",\n          [\n            \"white\",\n            \"red\"\n          ]\n        ],\n        [\n          \"outline\"\n        ]\n      ]\n    },\n    \"j\": {\n      \"name\": \"J\",\n      \"phonetic\": \"Juliet\",\n      \"design\": [\n        [\n          \"horizontal\",\n          [\n            \"blue\",\n            \"white\",\n            \"blue\"\n          ]\n        ],\n        [\n          \"outline\"\n        ]\n      ]\n    },\n    \"k\": {\n      \"name\": \"K\",\n      \"phonetic\": \"Kilo\",\n      \"design\": [\n        [\n          \"vertical\",\n          [\n            \"yellow\",\n            \"blue\"\n          ]\n        ]\n      ]\n    },\n    \"l\": {\n      \"name\": \"L\",\n      \"phonetic\": \"Lima\",\n      \"design\": [\n        [\n          \"check\",\n          [\n            \"yellow\",\n            \"black\"\n          ]\n        ]\n      ]\n    },\n    \"m\": {\n      \"name\": \"M\",\n      \"phonetic\": \"Mike\",\n      \"design\": [\n        [\n          \"saltire\",\n          [\n            \"white\",\n            \"blue\"\n          ]\n        ],\n        [\n          \"outline\"\n        ]\n      ]\n    },\n    \"n\": {\n      \"name\": \"N\",\n      \"phonetic\": \"November\",\n      \"design\": [\n        [\n          \"check\",\n          [\n            \"blue\",\n            \"white\"\n          ]\n        ],\n        [\n          \"outline\"\n        ]\n      ]\n    },\n    \"p\": {\n      \"name\": \"P\",\n      \"phonetic\": \"Papa\",\n      \"design\": [\n        [\n          \"border\",\n          [\n            \"white\",\n            \"blue\"\n          ]\n        ]\n      ]\n    },\n    \"q\": {\n      \"name\": \"Q\",\n      \"phonetic\": \"Quebec\",\n      \"design\": [\n        [\n          \"solid\",\n          \"yellow\"\n        ]\n      ]\n    },\n    \"r\": {\n      \"name\": \"R\",\n      \"phonetic\": \"Romeo\",\n      \"design\": [\n        [\n          \"cross\",\n          [\n            \"yellow\",\n            \"red\"\n          ]\n        ]\n      ]\n    },\n    \"s\": {\n      \"name\": \"S\",\n      \"phonetic\": \"Sierra\",\n      \"design\": [\n        [\n          \"border\",\n          [\n            \"blue\",\n            \"white\"\n          ]\n        ],\n        [\n          \"outline\"\n        ]\n      ]\n    },\n    \"t\": {\n      \"name\": \"T\",\n      \"phonetic\": \"Tango\",\n      \"design\": [\n        [\n          \"vertical\",\n          [\n            \"red\",\n            \"white\",\n            \"blue\"\n          ]\n        ],\n        [\n          \"outline\"\n        ]\n      ]\n    },\n    \"u\": {\n      \"name\": \"U\",\n      \"phonetic\": \"Uniform\",\n      \"design\": [\n        [\n          \"check\",\n          [\n            \"red\",\n            \"white\"\n          ]\n        ],\n        [\n          \"outline\"\n        ]\n      ]\n    },\n    \"v\": {\n      \"name\": \"V\",\n      \"phonetic\": \"Victor\",\n      \"design\": [\n        [\n          \"saltire\",\n          [\n            \"red\",\n            \"white\"\n          ]\n        ],\n        [\n          \"outline\"\n        ]\n      ]\n    },\n    \"w\": {\n      \"name\": \"W\",\n      \"phonetic\": \"Whiskey\",\n      \"design\": [\n        [\n          \"border\",\n          [\n            \"red\",\n            \"white\",\n            \"blue\"\n          ]\n        ]\n      ]\n    },\n    \"x\": {\n      \"name\": \"X\",\n      \"phonetic\": \"X-ray\",\n      \"design\": [\n        [\n          \"cross\",\n          [\n            \"blue\",\n            \"white\"\n          ]\n        ],\n        [\n          \"outline\"\n        ]\n      ]\n    },\n    \"black\": {\n      \"name\": \"Black\",\n      \"category\": \"racing\",\n      \"design\": [\n        [\n          \"solid\",\n          \"black\"\n        ]\n      ]\n    },\n    \"blackwhite\": {\n      \"name\": \"Black and white\",\n      \"category\": \"racing\",\n      \"design\": [\n        [\n          \"check\",\n          [\n            \"black\",\n            \"white\"\n          ]\n        ]\n      ]\n    },\n    \"blue\": {\n      \"name\": \"Blue\",\n      \"category\": \"racing\",\n      \"design\": [\n        [\n          \"solid\",\n          \"blue\"\n        ]\n      ]\n    },\n    \"green\": {\n      \"name\": \"Green\",\n      \"category\": \"racing\",\n      \"design\": [\n        [\n          \"solid\",\n          \"green\"\n        ]\n      ]\n    },\n    \"greenwhite\": {\n      \"name\": \"Green and white\",\n      \"category\": \"racing\",\n      \"design\": [\n        [\n          \"check\",\n          [\n            \"green\",\n            \"white\"\n          ]\n        ]\n      ]\n    },\n    \"red\": {\n      \"name\": \"Red\",\n      \"category\": \"racing\",\n      \"design\": [\n        [\n          \"solid\",\n          \"red\"\n        ]\n      ]\n    },\n    \"yellow\": {\n      \"name\": \"Yellow\",\n      \"category\": \"racing\",\n      \"design\": [\n        [\n          \"solid\",\n          \"yellow\"\n        ]\n      ]\n    }\n  },\n  \"unsupportedFlags\": {\n    \"n9\": {\n      \"shape\": \"pennant\",\n      \"category\": \"numeral\",\n      \"design\": [\n        [\n          \"quarters\",\n          [\n            \"white\",\n            \"black\",\n            \"red\",\n            \"yellow\"\n          ]\n        ]\n      ]\n    }\n  }\n};\n","// src/shapes/default.shapes.js\n\nfunction getColor(name, colors) {\n  return colors ? colors[name] || name : name;\n}\n\nconst shapes = {\n  default: {\n    // Dimensions must be divisible by 5 otherwise there will be long decimals.\n    size: [240, 180],\n\n    // Draw a border design - note this is not an outline!\n    border(design, { w, h, colors }) {\n      const [, clrs] = design;\n      const parts = [];\n\n      // Draw the border(s) from the outside in.\n      // xbw and ybw are the border widths in the x and y dimension.\n      const xbw = w / (clrs.length * 2);\n      const ybw = h / (clrs.length * 2);\n      let xb = 0;\n      let yb = 0;\n      for (let i = clrs.length - 1; i > 0; i--) {\n        parts.push(`<path d=\"M${xb},${yb}`);\n        parts.push(`H${w - xb}V${h - yb}H${xb}Z`);\n        xb += xbw;\n        yb += ybw;\n        // Draw the 'hole' anti-clockwise so it does not fill.\n        parts.push(`M${xb},${yb}`);\n        parts.push(`V${h - yb}H${w - xb}V${yb}Z\"`);\n        parts.push(` fill=\"${getColor(clrs[i], colors)}\"/>\\n`);\n      }\n      // Draw the centre.\n      parts.push(`<path d=\"M${xb},${yb}`);\n      parts.push(`H${w - xb}V${h - yb}H${xb}Z\"`);\n      parts.push(` fill=\"${getColor(clrs[0], colors)}\"/>\\n`);\n      return parts.join('');\n    },\n\n    // Draw a check.\n    // Only works for an even number of checks.\n    check(design, { w, h, colors }) {\n      const [, clrs, nChecks] = design;\n      const parts = [];\n\n      // xw and yw are the check widths in the x and y dimension.\n      let repeat = nChecks || 2;\n      const xw = w / repeat;\n      const yw = h / repeat;\n      repeat = repeat / 2 - 1;\n      let i;\n      let x = xw;\n      let y = h - yw;\n      parts.push(`<path d=\"M0,0H${x}V${h}`);\n      for (i = 0; i < repeat; i++) {\n        x += xw;\n        parts.push(`H${x}V${0}`);\n        x += xw;\n        parts.push(`H${x}V${h}`);\n      }\n      parts.push(`H${w}V${y}H${0}`);\n      for (i = 0; i < repeat; i++) {\n        y -= yw;\n        parts.push(`V${y}H${w}`);\n        y -= yw;\n        parts.push(`V${y}H${0}`);\n      }\n      parts.push(`V${0}\" fill=\"${getColor(clrs[0], colors)}\"/>\\n`);\n\n      x = w - xw;\n      y = yw;\n      parts.push(`<path d=\"M${w},0H${x}V${h}`);\n      for (i = 0; i < repeat; i++) {\n        x -= xw;\n        parts.push(`H${x}V${0}`);\n        x -= xw;\n        parts.push(`H${x}V${h}`);\n      }\n      parts.push(`H${0}V${y}H${w}`);\n      for (i = 0; i < repeat; i++) {\n        y += yw;\n        parts.push(`V${y}H${0}`);\n        y += yw;\n        parts.push(`V${y}H${w}`);\n      }\n      parts.push(`V${0}\" fill=\"${getColor(clrs[1], colors)}\"/>\\n`);\n      return parts.join('');\n    },\n\n    // Draw a field (background).\n    solid(design, { w, h, colors }) {\n      const [, clr] = design;\n      return `<path d=\"M0,0H${w}V${h}H0Z\" fill=\"${getColor(clr, colors)}\"/>\\n`;\n    },\n\n    // Draw a cross (like a +).\n    cross(design, { w, h, colors }) {\n      const [, clrs] = design;\n      const parts = [];\n      // Standard cross width is 1/5 of the length of the flag; this means x and y need\n      // to be carefully chosen to avoid long fractions.\n      const x0 = h / 5;\n      const y0 = x0;\n      const x1 = (w - x0) / 2;\n      const y1 = (h - y0) / 2;\n      // Draw the two limbs of the cross - it doesn't matter that they intersect.\n      parts.push(`<path d=\"`);\n      parts.push(`M${x1},0H${x1 + x0}V${h}H${x1}Z`);\n      parts.push(`M0,${y1}H${w}V${y1 + y0}H${0}Z`);\n      parts.push(`\" fill=\"${getColor(clrs[0], colors)}\"/>\\n`);\n      // Draw the four background rectangles.\n      parts.push(` <path d=\"`);\n      parts.push(`M0,0H${x1}V${y1}H0Z`);\n      parts.push(`M${x1 + x0},0H${w}V${y1}H${x1 + x0}Z`);\n      parts.push(`M0,${y1 + y0}H${x1}V${h}H0Z`);\n      parts.push(`M${x1 + x0},${y1 + y0}H${w}V${h}H${x1 + x0}Z`);\n      parts.push(`\" fill=\"${getColor(clrs[1], colors)}\"/>\\n`);\n      return parts.join('');\n    },\n\n    // Draw horizontal stripes.\n    horizontal(design, { w, h, colors }) {\n      const [, clrs] = design;\n      const parts = [];\n      const variableHeights = design[2];\n      if (variableHeights) {\n        // Variable stripe height.\n        const sh = h / variableHeights.reduce((sum, stripe) => sum + stripe, 0);\n        // t is the top edge of the stripe.\n        for (let i = 0, t = 0; i < variableHeights.length; i++) {\n          parts.push(`<path d=\"M0,${t}`);\n          t += variableHeights[i] * sh;\n          parts.push(`H${w}V${t}H${0}Z\"`);\n          parts.push(` fill=\"${getColor(clrs[i], colors)}\"/>\\n`);\n        }\n        return parts.join('');\n      }\n\n      // Fixed stripe height.\n      const sh = h / clrs.length;\n      // t is the top edge of the stripe.\n      for (let t = 0; t < h; t += sh) {\n        parts.push(`<path d=\"M0,${t}`);\n        parts.push(`H${w}V${t + sh}H${0}Z\"`);\n        parts.push(` fill=\"${getColor(clrs[t / sh], colors)}\"/>\\n`);\n      }\n      return parts.join('');\n    },\n\n    // Draw an outline.\n    outline(design, { w, h, colors }) {\n      return [\n        '<path d=\"M0.5,0.5',\n        `H${w - 0.5}V${h - 0.5}H0Z\"`,\n        ' stroke=\"black\" fill=\"none\"/>\\n',\n      ].join('');\n    },\n\n    // Draw a saltire (like an X).\n    saltire(design, { w, h, colors }) {\n      const [, clrs] = design;\n      const parts = [];\n      const x0 = w / 10;\n      const y0 = h / 10;\n      const x1 = w / 2 - x0;\n      const y1 = h / 2 - y0;\n      // Draw the two limbs of the cross - it doesn't matter that they intersect.\n      parts.push(`<path d=\"`);\n      parts.push(`M0,0H${x0}L${w},${h - y0}V${h}H${w - x0}L0,${y0}Z`);\n      parts.push(`M${w - x0},0H${w}V${y0}L${x0},${h}H0V${h - y0}Z`);\n      parts.push(`\" fill=\"${getColor(clrs[0], colors)}\"/>\\n`);\n      // Draw the four background triangles.\n      parts.push(` <path d=\"`);\n      parts.push(`M${x0},0H${w - x0}L${w / 2},${y1}Z`);\n      parts.push(`M${w},${y0}V${h - y0}L${w - x1},${h / 2}Z`);\n      parts.push(`M${x0},${h}H${w - x0}L${w / 2},${h - y1}Z`);\n      parts.push(`M0,${y0}V${h - y0}L${x1},${h / 2}Z`);\n      // parts.push(`M${x1 + x0},0H${w}V${y1}H${x1 + x0}Z`);\n      // parts.push(`M0,${y1 + y0}H${x1}V${h}H0Z`);\n      // parts.push(`M${x1 + x0},${y1 + y0}H${w}V${h}H${x1 + x0}Z`);\n      parts.push(`\" fill=\"${getColor(clrs[1], colors)}\"/>\\n`);\n      return parts.join('');\n    },\n\n    // Draw vertical stripes.\n    vertical(design, { w, h, colors }) {\n      const [, clrs] = design;\n      // Stripe width.\n      const sw = w / clrs.length;\n      const parts = [];\n      // l is the left edge of the stripe.\n      for (let l = 0; l < w; l += sw) {\n        parts.push(`<path d=\"M${l},0`);\n        parts.push(`H${l + sw}V${h}H${l}Z\"`);\n        parts.push(` fill=\"${getColor(clrs[l / sw], colors)}\"/>\\n`);\n      }\n      return parts.join('');\n    },\n  },\n\n  swallowtail: {\n    size: [240, 180],\n\n    // Draw a field (background).\n    solid(design, { w, h, colors }) {\n      // Make the tail 1/4 of the width of the flag.\n      const tail = w * 0.25;\n      const [, clr] = design;\n      return [\n        '<path d=\"M0,0',\n        `H${w}L${w - tail},${h / 2}L${w},${h}H0Z\"`,\n        ` fill=\"${getColor(clr, colors)}\"/>\\n`,\n      ].join('');\n    },\n\n    // Draw an outline.\n    outline(design, { w, h }) {\n      // Make the tail 1/4 of the width of the flag.\n      const tail = w * 0.25;\n      return [\n        '<path d=\"M0.5,0.5',\n        `H${w - 0.5}L${w - tail - 0.5},${h / 2}L${w - 0.5},${h - 0.5}H0Z\"`,\n        ' stroke=\"black\" fill=\"none\"/>\\n',\n      ].join('');\n    },\n\n    // Draw vertical stripes.\n    vertical(design, { w, h, colors }) {\n      const [, clrs] = design;\n      // Make the tail 1/4 of the width of the flag.\n      const tail = w * 0.25;\n      // Stripe width.\n      const sw = w / clrs.length;\n      const parts = [];\n      // l is the left edge of the stripe.\n      for (let l = 0; l < w - sw; l += sw) {\n        parts.push(`<path d=\"M${l},0`);\n        parts.push(`H${l + sw}V${h}H${l}Z\"`);\n        parts.push(` fill=\"${getColor(clrs[l / sw], colors)}\"/>\\n`);\n      }\n      // Last stripe has the swallowtail.\n      parts.push(`<path d=\"M${w - sw},0`);\n      parts.push(`H${w}L${w - tail},${h / 2}L${w},${h}H${w - sw}Z\"`);\n      parts.push(` fill=\"${getColor(clrs[clrs.length - 1], colors)}\"/>\\n`);\n      return parts.join('');\n    },\n  },\n};\n\nexport default shapes;\n","// src/flags.js\n\nimport defaultFlags from './designs/default.flags';\nimport defaultShapes from './shapes/default.shapes';\n\n/**\n * Build the SVG for a flag.\n *\n * @param {object} shape A map of functions to draw designs for this shape.\n * @param {mixed[]} design An array of design elements for the flag.\n * @param {object} colors Colours for this flag set.\n * @param {number[]} size The size to draw [width, height].\n */\nfunction buildFlagSvg({ shape, design, colors, outline, file }) {\n  // Get the dimensions for this shape and create the svg for the viewBox.\n  const { size } = shape;\n  const [w, h] = size;\n  let parts = [];\n  if (file) {\n    parts.push('<?xml version=\"1.0\" encoding=\"UTF-8\" ?>\\n');\n    parts.push(\n      `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 ${w} ${h}\">\\n`\n    );\n  } else {\n    parts.push(`<svg viewBox=\"0 0 ${w} ${h}\">\\n`);\n  }\n\n  let hasOutline = false;\n  // Add the svg for each part of the design.\n  design.forEach((part) => {\n    if (part[0] === 'outline') {\n      // This is an outline but we have turned it off.\n      if (outline === false) return;\n      // Remember we have drawn an outline.\n      hasOutline = true;\n    }\n    parts.push(shape[part[0]](part, { w, h, colors }));\n  });\n\n  // If we are forcing an outline and we haven't drawn one already, draw it now.\n  if (outline && !hasOutline) {\n    parts.push(shape.outline([], { w, h, colors }));\n  }\n\n  // Close the svg element and return the whole concatenated.\n  parts.push('</svg>\\n');\n  return parts.join('');\n}\n\nclass Flags {\n  constructor(options) {\n    const settings = { ...options };\n    this.colors = settings.colors || {};\n    this.flags = settings.flags || defaultFlags;\n    this.shapes = settings.shapes || defaultShapes;\n  }\n\n  getFlag(name) {\n    if (name) return this.flags.flags[name];\n    return this.flags.flags;\n  }\n\n  getSvg(name, options) {\n    if (name == null) {\n      // Return svg for all flags.\n      const svg = {};\n      Object.keys(this.flags.flags).forEach((key) => {\n        svg[key] = this.getSvg(key, options);\n      });\n      return svg;\n    }\n    const { design, shape } = this.flags.flags[name];\n    const { shapes, colors } = this;\n    return buildFlagSvg({\n      // If the flag has no shape use the default shape.\n      shape: shapes[shape || 'default'],\n      design,\n      colors,\n      ...options,\n    });\n  }\n}\n\nexport default Flags;\n","// src/index.js\n\nimport { version as VERSION } from '../package.json';\nimport Flags from './flags';\n\nexport { VERSION };\n\nexport function getFlags(options) {\n  return new Flags(options);\n}\n"],"names":["groups","numerals","alphabet","substitutes","racing","flags","a","name","phonetic","shape","design","b","c","d","e","g","h","j","k","l","m","n","p","q","r","s","t","u","v","w","x","black","category","blackwhite","blue","green","greenwhite","red","yellow","unsupportedFlags","n9","getColor","colors","shapes","default","size","[object Object]","clrs","parts","xbw","length","ybw","xb","yb","i","push","join","nChecks","repeat","xw","yw","y","clr","x0","y0","x1","y1","variableHeights","sh","reduce","sum","stripe","outline","sw","swallowtail","tail","Flags","options","settings","this","defaultFlags","defaultShapes","svg","Object","keys","forEach","key","getSvg","file","hasOutline","part","buildFlagSvg"],"mappings":";;;;;;+MACe,CACbA,OAAU,CACRC,SAAY,CACV,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,MAEFC,SAAY,CACV,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,KAEFC,YAAe,CACb,KACA,KACA,KACA,MAEFC,OAAU,CACR,MACA,SACA,OACA,QACA,QACA,aACA,eAGJC,MAAS,CACPC,EAAK,CACHC,KAAQ,IACRC,SAAY,OACZC,MAAS,cACTC,OAAU,CACR,CACE,WACA,CACE,QACA,SAGJ,CACE,aAINC,EAAK,CACHJ,KAAQ,IACRC,SAAY,QACZC,MAAS,cACTC,OAAU,CACR,CACE,QACA,SAINE,EAAK,CACHL,KAAQ,IACRC,SAAY,UACZE,OAAU,CACR,CACE,aACA,CACE,OACA,QACA,MACA,QACA,SAGJ,CACE,aAING,EAAK,CACHN,KAAQ,IACRC,SAAY,QACZE,OAAU,CACR,CACE,aACA,CACE,SACA,OACA,UAEF,CACE,EACA,EACA,MAKRI,EAAK,CACHP,KAAQ,IACRC,SAAY,OACZE,OAAU,CACR,CACE,aACA,CACE,OACA,UAKRK,EAAK,CACHR,KAAQ,IACRC,SAAY,OACZE,OAAU,CACR,CACE,WACA,CACE,SACA,OACA,SACA,OACA,SACA,WAKRM,EAAK,CACHT,KAAQ,IACRC,SAAY,QACZE,OAAU,CACR,CACE,WACA,CACE,QACA,QAGJ,CACE,aAINO,EAAK,CACHV,KAAQ,IACRC,SAAY,SACZE,OAAU,CACR,CACE,aACA,CACE,OACA,QACA,SAGJ,CACE,aAINQ,EAAK,CACHX,KAAQ,IACRC,SAAY,OACZE,OAAU,CACR,CACE,WACA,CACE,SACA,WAKRS,EAAK,CACHZ,KAAQ,IACRC,SAAY,OACZE,OAAU,CACR,CACE,QACA,CACE,SACA,YAKRU,EAAK,CACHb,KAAQ,IACRC,SAAY,OACZE,OAAU,CACR,CACE,UACA,CACE,QACA,SAGJ,CACE,aAINW,EAAK,CACHd,KAAQ,IACRC,SAAY,WACZE,OAAU,CACR,CACE,QACA,CACE,OACA,UAGJ,CACE,aAINY,EAAK,CACHf,KAAQ,IACRC,SAAY,OACZE,OAAU,CACR,CACE,SACA,CACE,QACA,WAKRa,EAAK,CACHhB,KAAQ,IACRC,SAAY,SACZE,OAAU,CACR,CACE,QACA,YAINc,EAAK,CACHjB,KAAQ,IACRC,SAAY,QACZE,OAAU,CACR,CACE,QACA,CACE,SACA,UAKRe,EAAK,CACHlB,KAAQ,IACRC,SAAY,SACZE,OAAU,CACR,CACE,SACA,CACE,OACA,UAGJ,CACE,aAINgB,EAAK,CACHnB,KAAQ,IACRC,SAAY,QACZE,OAAU,CACR,CACE,WACA,CACE,MACA,QACA,SAGJ,CACE,aAINiB,EAAK,CACHpB,KAAQ,IACRC,SAAY,UACZE,OAAU,CACR,CACE,QACA,CACE,MACA,UAGJ,CACE,aAINkB,EAAK,CACHrB,KAAQ,IACRC,SAAY,SACZE,OAAU,CACR,CACE,UACA,CACE,MACA,UAGJ,CACE,aAINmB,EAAK,CACHtB,KAAQ,IACRC,SAAY,UACZE,OAAU,CACR,CACE,SACA,CACE,MACA,QACA,WAKRoB,EAAK,CACHvB,KAAQ,IACRC,SAAY,QACZE,OAAU,CACR,CACE,QACA,CACE,OACA,UAGJ,CACE,aAINqB,MAAS,CACPxB,KAAQ,QACRyB,SAAY,SACZtB,OAAU,CACR,CACE,QACA,WAINuB,WAAc,CACZ1B,KAAQ,kBACRyB,SAAY,SACZtB,OAAU,CACR,CACE,QACA,CACE,QACA,YAKRwB,KAAQ,CACN3B,KAAQ,OACRyB,SAAY,SACZtB,OAAU,CACR,CACE,QACA,UAINyB,MAAS,CACP5B,KAAQ,QACRyB,SAAY,SACZtB,OAAU,CACR,CACE,QACA,WAIN0B,WAAc,CACZ7B,KAAQ,kBACRyB,SAAY,SACZtB,OAAU,CACR,CACE,QACA,CACE,QACA,YAKR2B,IAAO,CACL9B,KAAQ,MACRyB,SAAY,SACZtB,OAAU,CACR,CACE,QACA,SAIN4B,OAAU,CACR/B,KAAQ,SACRyB,SAAY,SA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"}